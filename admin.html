<!--
Solo se muestra el bloque de Tarjetas si el deporte es "futbol".
Las tablas son dinámicas: puedes cambiar el número de filas (nTarjetas) en el JS.
-->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Panel Admin – Crear partido</title>
  <link rel="stylesheet" href="assets/css/admin.css" />
  <link rel="stylesheet" href="assets/css/headfoot.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    .tarjetas-tabs, .tarjetas-subtabs {
      display: flex; gap: 8px; margin-bottom: 6px; margin-top:8px;
    }
    .tarjetas-tabs button, .tarjetas-subtabs button {
      border:none; border-radius:5px; padding:6px 12px; cursor:pointer;
      background:#353535; color:#ffe16b; font-weight:bold; opacity:.8;
      transition:.15s;
    }
    .tarjetas-tabs button.active, .tarjetas-subtabs button.active {
      background: #300404; opacity:1;
    }
    .tarjetas-table { width:100%; border-collapse: collapse; margin-bottom:8px; }
    .tarjetas-table th, .tarjetas-table td {
      padding:4px 7px;
      text-align: center;
    }
    .tarjetas-table input[type=number] {
      width: 70px;
      padding: 8px 8px;
      border-radius: 5px;
      text-align: right;
      font-size: 1em;
      color: #ffe16b;
    }
    .tarjetas-table input[type=number]:focus {
      outline: 2px solid #ffe16b;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <a href="adminhub.html" class="header-btn">Admin</a>
    </div>
    <div class="header-center">
      <a href="#top">
        <img src="logohead.png" alt="Logo" class="logo" id="logo-scroll" />
      </a>
    </div>
    <div class="header-right">
      <a href="index.html" class="header-btn">Inicio</a>
    </div>
  </header>

  <main class="main-admin">
    <div class="card">
      <h2>Crear partido</h2>
      <form id="formCrearPartido">
        <label for="deporte">Deporte</label>
        <select id="deporte" name="deporte">
          <option value="">Selecciona un deporte</option>
          <option value="futbol">Fútbol</option>
          <option value="baloncesto">Baloncesto</option>
          <option value="tenis">Tenis</option>
        </select>

        <label for="liga">Competición</label>
        <input list="ligas-list" id="liga" name="liga" placeholder="Escribe o selecciona liga" autocomplete="off" />
        <datalist id="ligas-list"></datalist>

        <div class="equipos-wrapper">
          <div class="equipo equipo-1">
            <label for="equipo1">Equipo / Jugador 1</label>
            <input id="equipo1" list="equipos-list" name="equipo1" placeholder="Elige el equipo o jugador 1" autocomplete="off" />
          </div>
          <div class="boton-invertir-wrapper">
            <button id="invertirEquipos" type="button" class="btn-invertir">⮃</button>
          </div>
          <div class="equipo equipo-2">
            <label for="equipo2">Equipo / Jugador 2</label>
            <input id="equipo2" list="equipos-list" name="equipo2" placeholder="Elige el equipo o jugador 2" autocomplete="off" />
          </div>
        </div>
        <datalist id="equipos-list"></datalist>

        <!-- Nacionalidades -->
        <div class="nacionalidades-wrapper" style="display:flex; justify-content:space-between; margin-top: 8px; gap: 20px;">
          <div class="nacionalidad-1" style="display:none;">
            <label for="nacionalidad1">Nacionalidad jugador 1:</label>
            <input name="nacionalidad1" id="nacionalidad1" list="nacionalidades-list" placeholder="Ej: España" autocomplete="off" />
          </div>
          <div class="nacionalidad-2" style="display:none;">
            <label for="nacionalidad2">Nacionalidad jugador 2:</label>
            <input name="nacionalidad2" id="nacionalidad2" list="nacionalidades-list" placeholder="Ej: Francia" autocomplete="off" />
          </div>
        </div>

        <datalist id="nacionalidades-list">
          <option value="España">
          <option value="Argentina">
          <option value="Brasil">
          <option value="Francia">
          <option value="Alemania">
          <option value="Italia">
          <option value="Portugal">
          <option value="Inglaterra">
          <option value="México">
          <option value="Colombia">
          <option value="Uruguay">
          <option value="Chile">
          <option value="Estados Unidos">
          <option value="Canadá">
          <option value="Australia">
          <option value="Japón">
          <option value="Corea del Sur">
        </datalist>

        <label for="fecha" style="margin-top: 15px;">Fecha</label>
        <input id="fecha" type="date" name="fecha" />

        <label for="hora">Hora</label>
        <input id="hora" type="time" name="hora" />

        <h3>Cuotas Resultado (1 X 2)</h3>
        <div class="cuota-group">
          <input id="cuota1" type="number" step="0.01" placeholder="Cuota 1" name="cuota1" />
          <input id="cuotaX" type="number" step="0.01" placeholder="Cuota X" name="cuotaX" />
          <input id="cuota2" type="number" step="0.01" placeholder="Cuota 2" name="cuota2" />
        </div>

        <!-- Bloque para cuotas de goleadores SOLO FÚTBOL -->
        <div id="goleadores-section" style="margin-top: 20px; display:none;">
          <h3>Cuotas Goleadores</h3>
          <div id="goleadores-list" style="margin-bottom: 8px;"></div>
          <div style="display: flex; gap: 10px; margin-bottom: 10px;">
            <input id="goleador-nombre" type="text" placeholder="Nombre del jugador" list="goleadores-datalist" />
            <datalist id="goleadores-datalist"></datalist>
            <input id="goleador-cuota" type="number" step="0.01" placeholder="Cuota" />
            <button type="button" id="agregar-goleador">Añadir</button>
          </div>
        </div>

        <!-- Bloque Tarjetas Mejorado -->
        <div id="tarjetas-section" style="margin-top:20px; display:none;">
          <h3>Cuotas Tarjetas</h3>
          <div id="tarjetas-tabs" class="tarjetas-tabs"></div>
          <div id="tarjetas-subtabs" class="tarjetas-subtabs"></div>
          <div id="tarjetas-tables"></div>
        </div>

        <button id="btnCrear" type="submit">Guardar partido</button>
      </form>

      <!-- Spinner, modal, preview y mensajes igual que antes... -->
      <div id="spinner" style="display:none; position:fixed;top:0;left:0;width:100vw;height:100vh; 
        background:rgba(0,0,0,0.4); justify-content:center; align-items:center; z-index:9999;">
        <div class="spinner" style="border: 8px solid #f3f3f3; border-top: 8px solid #3498db; 
          border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite;"></div>
      </div>
      <div id="modalConfirm" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; 
        background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:10000;">
        <div style="background:#fff; padding:20px; border-radius:8px; width:320px; max-width:90%; box-sizing:border-box;">
          <p id="modalText" style="margin-bottom:20px; font-size:1.1em; color:black;"></p>
          <div id="modalSummary"></div>
          <button id="btnConfirm" style="margin-right:10px;">Confirmar</button>
          <button id="btnCancel">Cancelar</button>
        </div>
      </div>
      <div id="previewContainer" style="display:none; border: 1px solid #ccc; padding: 15px; margin: 15px 0; 
        background: #f9f9f9; border-radius: 8px;"></div>
      <div class="msg" id="msg"></div>
    </div>
  </main>
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-logo">
        <h2>Winnet</h2>
        <p>&copy; 2025 Todos los derechos reservados.</p>
      </div>
      <div class="footer-contacto">
        <h2>Contacto</h2>
        <p>Email: <a href="mailto:winnetaplicacion@gmail.com">winnetaplicacion@gmail.com</a></p>
      </div>
      <div class="footer-redes">
        <h2>Síguenos</h2>
        <div class="redes-iconos">
          <a href="https://youtube.com" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
          <a href="https://www.instagram.com/winnetapp?igsh=MXBvazY2anFqN3Nsdw==" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="https://www.tiktok.com/@winnetapp?_t=ZN-8xTDcL9VuTu&_r=1" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
          <a href="https://winnetapp.github.io/donaciones/" target="_blank" aria-label="PayPal"><i class="fab fa-paypal"></i></a>
        </div>
      </div>
    </div>
  </footer>
  <script type="module" src="assets/js/admin.js"></script>
</body>
</html>
